import{a as z,b as q,c as j}from"./chunk-YVPMHPDC.js";import{l as A}from"./chunk-2DKOPCYI.js";import{b as U}from"./chunk-7KGL7TWE.js";import{Ca as $,Fa as F,I as h,J as r,K as u,Q as f,R as l,T as i,U as o,V as g,Y as x,Z as c,_ as m,aa as w,f as B,fa as I,ga as k,h as b,ia as _,ja as C,k as y,n as M,qa as E,ra as L,sa as N,ta as T,w as O,z as S}from"./chunk-TKCC2KLW.js";var P=B(j());var D=(()=>{class n{transform(t){if(!t)return"";let e=(0,P.default)();return(0,P.default)(t).from(e)}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275pipe=S({name:"timeAgo",type:n,pure:!0,standalone:!0})}}return n})();var H=n=>[n];function V(n,d){if(n&1&&(i(0,"div",7),c(1," Average Carry Score "),i(2,"div",8),c(3),o()()),n&2){let t=x();r(2),l("ngClass",t.getValueByScore(t.average)),r(),m(t.average.toFixed(2))}}function W(n,d){n&1&&(i(0,"span",24),c(1,"Defeat"),o())}function Q(n,d){n&1&&(i(0,"span",25),c(1,"Victory"),o())}function J(n,d){if(n&1&&(i(0,"div",9)(1,"div",10),f(2,W,2,0,"span",11)(3,Q,2,0,"span",12),o(),i(4,"div",13)(5,"div",14),g(6,"img",15),o(),i(7,"div",16),g(8,"img",17),i(9,"span",18)(10,"div"),c(11),o()()(),i(12,"div",19)(13,"div"),c(14,"Carry Score"),o(),g(15,"app-progression-bar",20),o(),i(16,"div",21)(17,"div"),c(18),o(),i(19,"p"),c(20),_(21,"timeAgo"),o()(),i(22,"div",22)(23,"a",23),c(24,"See Match"),o()()()()),n&2){let t,e=d.$implicit,a=x();r(2),l("ngIf",!e.isWinner),r(),l("ngIf",e.isWinner),r(3),l("src","./assets/"+(e.currentPlayer==null?null:e.currentPlayer.position)+".png",h),r(2),l("src","./assets/champion/"+(e.currentPlayer==null?null:e.currentPlayer.championName)+".png",h),r(3),m(e.currentPlayer==null?null:e.currentPlayer.champLevel),r(4),l("carryScore",(e.currentPlayer==null?null:e.currentPlayer.score)||0),r(3),m((t=a.findQueue(e.queueId))==null?null:t.description),r(2),m(C(21,9,e.gameStartTimestamp)),r(3),l("routerLink",k(11,H,"/match/"+e.matchId+"/"+(e.currentPlayer==null?null:e.currentPlayer.puuid)))}}var ae=(()=>{class n{constructor(t,e,a){this.route=t,this.matchService=e,this.seoService=a,this.gameName="",this.tagLine="",this.region="",this.average=0,this.matchHistory$=new b}ngOnInit(){this.route.params.subscribe(t=>{this.gameName=t.gameName,this.tagLine=t.tagLine,this.region=t.region,this.seoService.updateTitle(`Recent Games ${this.gameName}#${this.tagLine}-${this.region} `),this.seoService.updateDescription(`Recent Games  ${this.gameName}#${this.tagLine}-${this.region}`),this.average=0;let e=0,a=0;this.matchHistory$=this.matchService.GetLastMatches(this.gameName,this.tagLine,this.region).pipe(y(R=>R.map(s=>{let v=s.blueScore.find(p=>p.isSummoner)||s.redTeamScore.find(p=>p.isSummoner);return s.isWinner=s.winner==="RED"&&s.redTeamScore.filter(p=>p.isSummoner).length>0||s.winner==="BLUE"&&s.blueScore.filter(p=>p.isSummoner).length>0,s.currentPlayer=v,v&&(e+=v.score||0,a++),s})),M(()=>{a>0&&(this.average=e/a),console.log(this.average)}))})}getValueByScore(t){return t>=9?"high":t>=7.5?"good":t>=6?"normal":t>=4.5?"low":"verylow"}findQueue(t){return q.find(e=>e.queueId==t)}static{this.\u0275fac=function(e){return new(e||n)(u($),u(U),u(A))}}static{this.\u0275cmp=O({type:n,selectors:[["app-user"]],standalone:!0,features:[I],decls:13,vars:7,consts:[[1,"background"],[1,"container"],[1,"page"],[1,"region"],["class","average",4,"ngIf"],[1,"match-history"],["class","match-card",4,"ngFor","ngForOf"],[1,"average"],[3,"ngClass"],[1,"match-card"],[1,"match-header"],["class","result defeat",4,"ngIf"],["class","result victory",4,"ngIf"],[1,"match-info"],[1,"role"],["alt","Role Icon",3,"src"],[1,"champion-icon"],["alt","Champion",3,"src"],[1,"level"],[1,"score"],[3,"carryScore"],[1,"queue"],[1,"url"],[3,"routerLink"],[1,"result","defeat"],[1,"result","victory"]],template:function(e,a){e&1&&(g(0,"div",0),i(1,"div",1)(2,"div",2)(3,"p"),c(4,"Recent Games (20 lasts)"),o(),i(5,"h1"),c(6),i(7,"span",3),c(8),o()()(),f(9,V,4,2,"div",4),i(10,"div",5),f(11,J,25,13,"div",6),_(12,"async"),o()()),e&2&&(r(6),w("",a.gameName,"#",a.tagLine," "),r(2),m(a.region),r(),l("ngIf",a.average>0),r(2),l("ngForOf",C(12,5,a.matchHistory$)))},dependencies:[L,T,N,z,E,F,D],styles:[".region[_ngcontent-%COMP%]{color:#707070}.match-history[_ngcontent-%COMP%]{display:flex;flex-direction:column}.match-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;border-bottom:1px solid #30425b;padding-bottom:15px;margin-bottom:20px;color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;border-radius:5px}.url[_ngcontent-%COMP%]{top:0;position:absolute;right:0}.url[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:14Px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#9bb0cc;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#30425b;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#30425b}.match-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.average[_ngcontent-%COMP%]{border-radius:5px;display:inline-flex;background:#090c11;align-items:center;color:#fff;padding:15px;margin-right:20px;margin-bottom:20px}.average[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px;font-weight:700;font-size:12px;margin-left:10px;border-radius:5px}.average[_ngcontent-%COMP%]   div.high[_ngcontent-%COMP%]{background-color:#3f0;color:#135203}.average[_ngcontent-%COMP%]   div.good[_ngcontent-%COMP%]{background-color:#fe0;color:#483917}.average[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%]{background-color:#b6b6b6;color:#2b2b2b}.average[_ngcontent-%COMP%]   div.low[_ngcontent-%COMP%]{background-color:#e25803;color:#4e2003}.average[_ngcontent-%COMP%]   div.verylow[_ngcontent-%COMP%]{background-color:#a50505;color:#290101}.level[_ngcontent-%COMP%]{font-size:12px;position:absolute;bottom:0;right:0;background-color:#000;border-radius:100%;height:25px;width:25px;text-align:center}.level[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-top:5px}.queue[_ngcontent-%COMP%]{width:100%;text-align:right}.queue[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.5;margin-top:5px;font-size:12px}a[_ngcontent-%COMP%]{text-align:right}.match-info[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%}.score[_ngcontent-%COMP%]{width:100%;margin-left:10px}.score[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px;margin-bottom:5px}.champion-icon[_ngcontent-%COMP%]{position:relative;margin-left:10px}.champion-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:5px solid #090c11;width:64px;height:64px;border-radius:50%}@media (max-width: 800px){.queue[_ngcontent-%COMP%]{font-size:12px}.champion-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:54px;height:54px}}"]})}}return n})();export{ae as UserComponent};
