import{a as T,b as z}from"./chunk-IAZZNBVV.js";import"./chunk-XAZLOLJU.js";import{b as F}from"./chunk-WRDOS7JU.js";import{$ as S,B as f,C as r,D as h,J as u,K as l,M as i,N as o,O as g,Q as x,R as a,S as p,U as P,Z as M,_ as O,aa as w,e as _,ga as k,h as b,ha as I,ia as E,j as C,ja as L,pa as N,s as y,sa as U}from"./chunk-LD6OBVU7.js";var B=n=>[n];function R(n,m){if(n&1&&(i(0,"div",7),a(1," Average Carry Score "),i(2,"div",8),a(3),o()()),n&2){let t=x();r(2),l("ngClass",t.getValueByScore(t.average)),r(),p(t.average.toFixed(2))}}function D(n,m){n&1&&(i(0,"span",24),a(1,"Defeat"),o())}function $(n,m){n&1&&(i(0,"span",25),a(1,"Victory"),o())}function j(n,m){if(n&1&&(i(0,"div",9)(1,"div",10),u(2,D,2,0,"span",11)(3,$,2,0,"span",12),o(),i(4,"div",13)(5,"div",14),g(6,"img",15),o(),i(7,"div",16),g(8,"img",17),i(9,"span",18)(10,"div"),a(11),o()()(),i(12,"div",19)(13,"div"),a(14,"Carry Score"),o(),g(15,"app-progression-bar",20),o(),i(16,"div",21)(17,"div"),a(18),o()(),i(19,"div",22)(20,"a",23),a(21,"See Match"),o()()()()),n&2){let t,e=m.$implicit,c=x();r(2),l("ngIf",!e.isWinner),r(),l("ngIf",e.isWinner),r(3),l("src","./assets/"+(e.currentPlayer==null?null:e.currentPlayer.position)+".png",f),r(2),l("src","./assets/champion/"+(e.currentPlayer==null?null:e.currentPlayer.championName)+".png",f),r(3),p(e.currentPlayer==null?null:e.currentPlayer.champLevel),r(4),l("carryScore",(e.currentPlayer==null?null:e.currentPlayer.score)||0),r(3),p((t=c.findQueue(e.queueId))==null?null:t.description),r(2),l("routerLink",O(8,B,"/match/"+e.matchId+"/"+(e.currentPlayer==null?null:e.currentPlayer.puuid)))}}var X=(()=>{class n{constructor(t,e){this.route=t,this.matchService=e,this.gameName="",this.tagLine="",this.region="",this.average=0,this.matchHistory$=new _}ngOnInit(){this.route.params.subscribe(t=>{this.gameName=t.gameName,this.tagLine=t.tagLine,this.region=t.region,this.average=0;let e=0,c=0;this.matchHistory$=this.matchService.GetLastMatches(this.gameName,this.tagLine,this.region).pipe(b(q=>q.map(s=>{let v=s.blueScore.find(d=>d.isSummoner)||s.redTeamScore.find(d=>d.isSummoner);return s.isWinner=s.winner==="RED"&&s.redTeamScore.filter(d=>d.isSummoner).length>0||s.winner==="BLUE"&&s.blueScore.filter(d=>d.isSummoner).length>0,s.currentPlayer=v,v&&(e+=v.score||0,c++),s})),C(()=>{c>0&&(this.average=e/c),console.log(this.average)}))})}getValueByScore(t){return t>=9?"high":t>=7.5?"good":t>=6?"normal":t>=4.5?"low":"verylow"}findQueue(t){return z.find(e=>e.queueId==t)}static{this.\u0275fac=function(e){return new(e||n)(h(N),h(F))}}static{this.\u0275cmp=y({type:n,selectors:[["app-user"]],standalone:!0,features:[M],decls:13,vars:7,consts:[[1,"background"],[1,"container"],[1,"page"],[1,"region"],["class","average",4,"ngIf"],[1,"match-history"],["class","match-card",4,"ngFor","ngForOf"],[1,"average"],[3,"ngClass"],[1,"match-card"],[1,"match-header"],["class","result defeat",4,"ngIf"],["class","result victory",4,"ngIf"],[1,"match-info"],[1,"role"],["alt","Role Icon",3,"src"],[1,"champion-icon"],["alt","Champion",3,"src"],[1,"level"],[1,"score"],[3,"carryScore"],[1,"queue"],[1,"url"],[3,"routerLink"],[1,"result","defeat"],[1,"result","victory"]],template:function(e,c){e&1&&(g(0,"div",0),i(1,"div",1)(2,"div",2)(3,"p"),a(4,"Recent Games (20 lasts)"),o(),i(5,"h1"),a(6),i(7,"span",3),a(8),o()()(),u(9,R,4,2,"div",4),i(10,"div",5),u(11,j,22,10,"div",6),S(12,"async"),o()()),e&2&&(r(6),P("",c.gameName,"#",c.tagLine," "),r(2),p(c.region),r(),l("ngIf",c.average>0),r(2),l("ngForOf",w(12,5,c.matchHistory$)))},dependencies:[I,L,E,T,k,U],styles:[".region[_ngcontent-%COMP%]{color:#707070}.match-history[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:600px;overflow-y:scroll;padding-right:20px}.match-card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;border-bottom:1px solid #30425b;padding:15px;margin-bottom:20px;color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;border-radius:5px}.url[_ngcontent-%COMP%]{top:0;position:absolute;right:0}.url[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;font-size:14Px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#9bb0cc;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#30425b;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#30425b}.match-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.average[_ngcontent-%COMP%]{border-radius:5px;display:inline-flex;background:#090c11;align-items:center;color:#fff;padding:15px;margin-right:20px;margin-bottom:20px}.average[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px;font-weight:700;font-size:12px;margin-left:10px;border-radius:5px}.average[_ngcontent-%COMP%]   div.high[_ngcontent-%COMP%]{background-color:#3f0;color:#135203}.average[_ngcontent-%COMP%]   div.good[_ngcontent-%COMP%]{background-color:#fe0;color:#483917}.average[_ngcontent-%COMP%]   div.normal[_ngcontent-%COMP%]{background-color:#b6b6b6;color:#2b2b2b}.average[_ngcontent-%COMP%]   div.low[_ngcontent-%COMP%]{background-color:#e25803;color:#4e2003}.average[_ngcontent-%COMP%]   div.verylow[_ngcontent-%COMP%]{background-color:#a50505;color:#290101}.level[_ngcontent-%COMP%]{font-size:12px;position:absolute;bottom:0;right:0;background-color:#000;border-radius:100%;height:25px;width:25px;text-align:center}.level[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-top:5px}.queue[_ngcontent-%COMP%]{width:100%;text-align:right}a[_ngcontent-%COMP%]{text-align:right}.match-info[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%}.score[_ngcontent-%COMP%]{width:100%;margin-left:10px}.score[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:12px;margin-bottom:5px}.champion-icon[_ngcontent-%COMP%]{position:relative;margin-left:10px}.champion-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%}"]})}}return n})();export{X as UserComponent};
